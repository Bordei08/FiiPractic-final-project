CREATE OR REPLACE FUNCTION delete_post() RETURNS TRIGGER AS $my_table$
BEGIN
	DELETE FROM "MENTIONS" WHERE "POST_ID" = OLD."ID";
    
	DELETE FROM "LIKES" WHERE "POST_ID" = OLD."ID";
	
	DELETE FROM "REPLIES" WHERE "POST_ID" = OLD."ID";
	
    RETURN OLD;
END;
$my_table$ LANGUAGE plpgsql;


CREATE TRIGGER post_trigger AFTER DELETE ON "POSTS"
FOR EACH ROW EXECUTE PROCEDURE delete_post()